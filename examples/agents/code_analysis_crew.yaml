name: Code Analysis Assessment Crew
cache: True
planning: True
planning_llm: azure/gpt4-128k
process: sequential
memory: False

agents:
  - role: Code Analysis Agent
    goal: |
      Analyze the code changes in the Merge Request (MR), regardless of programming language or project type.
      Assess the significance, potential risks, and impact of these changes on the overall codebase. Assign an impact score based on factors such as complexity, criticality of modified components, and potential for introducing bugs or affecting existing functionality, on a scale from 0 to 10.
    backstory: |
      A versatile code analyst with deep understanding of software development across various languages and domains. Capable of interpreting code changes in any language, identifying critical modifications, and evaluating their implications for the project. This agent leverages advanced analytical techniques to provide meaningful insights into the codebase's health and stability.

tasks:
  - description: |
      Analyze the code changes in the MR. Evaluate the significance, potential risks, and impact on the codebase. Consider all programming languages and project types. Provide insights into how the changes might affect the project's stability and maintainability.

      **Merge Request Details**:
      {input}

    agent: Code Analysis Agent
    expected_output: |
      - An impact score between 0 and 10, reflecting the significance and potential risk of the code changes.
      - A detailed analysis explaining the reasoning behind the score, including:
        - Identification of critical components or modules affected.
        - Assessment of code complexity introduced or modified.
        - Potential risks or issues that may arise from the changes.
        - Recommendations for mitigating identified risks or improving the code.
